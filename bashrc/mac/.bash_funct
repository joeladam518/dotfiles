# Mac Functions

# Import the global bash functions
if [ -f "${bashrc_dir}/global/.bash_funct" ]; then
    . "${bashrc_dir}/global/.bash_funct"
fi

# Import the dev bash function
if [ -f "${bashrc_dir}/global/.dev_funct" ]; then
    . "${bashrc_dir}/global/.dev_funct"
fi

#
# Sourcetoad docker functions
#

# Bring up SIDTK -> https://github.com/sourcetoad/DevopsToolKit
dockerConnectToSidtkFunction()
{
    cwd=$(pwd)
    trap "cd ${cwd}" RETURN
    if [ ! -d ${HOME}/devop-tools/docker/data-source-services ]; then
        echo "data source services not found... What are you trying to connect to?"
        return 1
    fi
    cd ${HOME}/devop-tools/docker/data-source-services && docker-compose up --build
}
# Bring up docker container inside repo
dockerUpFunction()
{
    cwd=$(pwd)
    trap "cd ${cwd}" RETURN

    if [ ! -d "./docker" ]; then
        echo "No docker folder. Are you sure you're in the right place?"
        return 1
    fi

    cd "./docker" && docker-compose up --build
}
# Stop docker container inside repo
dockerStopFunction()
{
    cwd=$(pwd)
    trap "cd ${cwd}" RETURN

    if [ ! -d "./docker" ]; then
        echo "No docker folder. Are you sure you're in the right place?"
        return 1
    fi

    cd "./docker" && docker-compose stop
}
# Stop all docker containers
dockerStopAllContainersFunction()
{
    docker stop `docker ps -q`
}
