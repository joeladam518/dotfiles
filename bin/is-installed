#!/usr/bin/env bash

# Checks if a program is installed

# Variables
print_boolean="0"

# Functions
usage() {
    echo "usage: $(basename "${0}") [-h] [-b] {program_name}"
    echo ""
    echo "Checks if a program is installed on the current machine"
    echo ""
    echo "arguments:"
    echo "  program_name    The name of the program to check"
    echo ""
    echo "options:"
    echo "  -h              Displays this help message."
    echo "  -b              Print '1' (true) or '0' (false) instead of a message"
}

# Script options
while getopts ":hb" o; do
    case "${o}" in
        h) usage; exit 0 ;;
        b) print_boolean="1" ;;
        \?) echo "Invalid option '-${OPTARG}'"; usage; exit 1 ;;
    esac
done
shift $((OPTIND-1))

# Script Arguments
program_name="$1"

if [ -z "$program_name" ]; then
    echo "You must provide a program name to check against."
    exit 1
fi

# Do the checking
if command -v "${program_name}" >/dev/null 2>&1; then
    if [ "$print_boolean" -eq "1" ]; then
        echo "1"
    else
        echo "${program_name} is installed."
    fi
else
    if [ "$print_boolean" -eq "1" ]; then
        echo "0"
    else
        echo "${program_name} is not installed."
    fi
fi
